var pipui={v:"1.4.0",enable_compatible:!0,array_unique:function(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e},indexOfCase:function(t,e){var i=-1;if(e=e.toLowerCase(),"object"==typeof t){for(var a=0;a<t.length;a++)if(t[a].toLowerCase()==e){i=a;break}}else i=t.toLowerCase().indexOf(e);return i},top_space:function(t){return t.offset().top-window.pageYOffset},bottom_space:function(t){return window.innerHeight-t.offset().top-t.outerHeight()+window.pageYOffset},left_space:function(t){return t.offset().left-window.pageXOffset},right_space:function(t){return window.innerWidth-t.offset().left-t.outerWidth()+window.pageXOffset},dependencies:{},required:function(t,e,i,a){void 0===a&&(a="="),this.dependencies[t].push({name:e,version:i,operator:a})},addModule:function(t,e){this.modules[t]=e,this.dependencies[t]=[]},modules:{},moduleExists:function(t){return void 0!==this.modules[t]},moduleVersion:function(t){return this.moduleExists(t)?this.modules[t]:null},version_compare:function(t,e,i){if(void 0===i&&(i="="),"="==i||"=="==i||"==="==i)return t===e;if("!="==i||"<>"==i||"!=="==i)return t!==e;var a,r,o=0,n={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(t){return(t=(t=(""+t).replace(/[_\-+]/g,".")).replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".")).length?t.split("."):[-8]},l=function(t){return t?isNaN(t)?n[t]||-7:parseInt(t,10):0};for(t=s(t),e=s(e),r=Math.max(t.length,e.length),a=0;a<r;a++)if(t[a]!==e[a]){if(t[a]=l(t[a]),e[a]=l(e[a]),t[a]<e[a]){o=-1;break}if(t[a]>e[a]){o=1;break}}if(!i)return o;switch(i){case">":case"gt":return o>0;case">=":case"ge":return o>=0;case"<=":case"le":return o<=0;case"<":case"lt":return o<0}return null},compatible:function(){$.each(pipui.dependencies,function(t,e){if(e.length)for(var i=0;i<e.length;i++)if(void 0!==e[i]){if(!pipui.moduleExists(e[i].name))return void console.warn("[PipUI] "+pipui.l(pipui.i18n.base.requires,[t,e[i].name]));pipui.version_compare(pipui.moduleVersion(e[i].name),e[i].version,e[i].operator)||console.warn("[PipUI] "+pipui.l(pipui.i18n.base.requires_version,[t,e[i].name,e[i].operator],e[i].version))}})},l:function(t,e,i){if(void 0===i&&(i="%"),"string"==typeof e)return t.replaceAll(i,e);for(var a=i.length,r=0;;){var o=t.indexOf(i);if(-1===o||void 0===e[r])break;var n=t.substr(0,o),s=t.substr(o+a);t=n+e[r]+s,r++}return t},i18n:{base:{requires:'Component "%" requires component %',requires_version:"Component % requires component % version % %"}}},p=pipui;pipui.addModule("base",pipui.v),$(function(){p.enable_compatible&&p.compatible(),$("body").on("click",".preventDefault",function(t){t.preventDefault()})}),pipui.addModule("navbar","1.0.0"),$(function(){$("html").on("click","body",function(t){var e=$(t.target),i=e.closest(".nav-sub"),a=i.closest(".nav-li");if(i.length||e.closest(".nav-submenu").length){var r=e.closest(".navbar");$(".navbar").not(r).find(".nav-sub.active, .nav-submenu.active").removeClass("active left-pos right-pos"),a.siblings(".nav-li").not(a).find(".nav-sub.active, .nav-submenu.active").removeClass("active left-pos right-pos")}else $(".navbar .nav-submenu.active, .navbar .nav-sub.active").removeClass("active left-pos right-pos")}),$("body").on("click",".navbar .nav-sub",function(t){t.preventDefault();var e=$(this),i=e.closest(".nav-li").children(".nav-submenu"),a=e.closest(".navbar"),r=t.pageX-a.offset().left,o=a.outerWidth()-r;e.hasClass("active")&&i.hasClass("active")?(e.removeClass("active"),i.removeClass("active left-pos right-pos"),i.find(".nav-submenu.active, .nav-sub.active").removeClass("active")):(i.addClass(r>o?"right-pos":"left-pos"),e.addClass("active"),i.addClass("active"))}).on("click",".navbar .navbar-wrapper .nav-mobile",function(t){t.preventDefault(),$(this).closest(".navbar").toggleClass("open")})}),pipui.addModule("modal","1.0.0"),pipui.modal={open:function(t){return""!=t&&!!(t=$('.modal[data-id="'+t+'"]')).length&&(t.fadeIn("fast",function(){$(this).addClass("active")}),!0)},close:function(t){return""!=t&&!!(t=$('.modal[data-id="'+t+'"]')).length&&(t.fadeOut("fast",function(){$(this).removeClass("active")}),!0)},toggle:function(t){return""!=t&&!!(t=$('.modal[data-id="'+t+'"]')).length&&(t.fadeToggle("fast",function(){$(this).toggleClass("active")}),!0)}},$(function(){$("body").on("click","[data-modal]",function(t){"INPUT"!=t.target.tagName&&t.preventDefault();var e=$(this),i=e.attr("data-modal");$(".modal").fadeOut("fast"),i||(i=e.attr("href")),i&&pipui.modal.open(i)}).on("click",".modal [data-modal-close]",function(t){t.preventDefault(),pipui.modal.close($(this).closest(".modal").attr("data-id"))}).on("click",".modal",function(t){var e=$(t.target);e.closest(".modal-content").length||pipui.modal.close(e.closest(".modal").attr("data-id"))})}),pipui.addModule("alert","1.0.0"),pipui.required("alert","base","1.4.0",">="),pipui.i18n.alert={close:"\u0417\u0410\u041a\u0420\u042b\u0422\u042c"},pipui.alert={openTimeout:3e3,open:function(t,e,i,a,r){e=void 0===e?"":e,"string"!=typeof i&&(i="bottom-center");var o=i.split("-");"top"!=o[0]&&"bottom"!=o[0]&&"center"!=o[0]&&(o[0]="bottom"),"left"!=o[1]&&"right"!=o[1]&&"center"!=o[1]&&(o[1]="center"),i=o[0]+"-"+o[1];var n=$('.alert[data-placement="'+i+'"]');n.length||(n=$('<div class="alert" data-placement="'+i+'"></div>'),"top"==o[0]?$("body").prepend(n):$("body").append(n));var s=Math.random(),l=$('<div class="alert-id" style="display: none;" data-id="'+s+'"><div class="alert-content">'+t+'</div><div class="alert-footer"><div class="block-left"><div class="title">'+e+'</div></div><div class="block-right"><button class="btn btn-transparent close-trigger">'+p.i18n.alert.close+"</button></div></div></div>");return n.append(l),l.fadeIn("fast",function(){void 0!==r&&r()}),void 0===a&&(a=this.openTimeout),"number"==typeof a&&setTimeout(function(){pipui.alert.close('.alert .alert-id[data-id="'+s+'"]')},a),!0},close:function(t,e){if(!(t="string"==typeof t?$(t):t).length)return!1;$(".alert").stop(),t.each(function(t){var e=$(this);setTimeout(function(){e.fadeOut("fast",function(){$(this).remove()})},300*t)}),void 0!==e&&e()},hide:function(t,e){if(!(t="string"==typeof t?$(t):t).length)return!1;$(".alert").stop(),t.each(function(t){var e=$(this);setTimeout(function(){e.fadeOut("fast")},300*t)}),void 0!==e&&e()},show:function(t,e){if(!(t="string"==typeof t?$(t):t).length)return!1;$(".alert").stop(),t.each(function(t){var e=$(this);setTimeout(function(){e.fadeIn("fast")},300*t)}),void 0!==e&&e()}},$(function(){$("body").on("click",".alert > .alert-id .close-trigger",function(t){t.preventDefault(),pipui.alert.close($(this).closest(".alert-id"))}),setTimeout(function(){pipui.alert.close($('.alert > .alert-id[data-autoclose="true"]'))},pipui.alert.openTimeout)}),pipui.addModule("confirm","1.0.0"),p.required("confirm","base","1.4.0",">="),p.i18n.confirm={confirm:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",success:"OK",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430"},pipui.confirm={openTimeout:3e3,storage:{},open:function(t,e,i,a,r,o,n,s){var l="string"==typeof t||"number"==typeof t?t:"";"object"==typeof t&&(void 0!==t.title&&(e=t.title),void 0!==t.text&&(l=t.text),"function"==typeof t.success&&(i=t.success),"function"==typeof t.fail&&(a=t.fail),void 0!==t.autoclose&&(r=t.autoclose),"function"==typeof t.complete&&(o=t.complete),"string"!=typeof t.yes&&"number"!=typeof t.yes||(n=t.yes),"string"!=typeof t.no&&"number"!=typeof t.no||(s=t.no)),void 0===n&&(n=p.i18n.confirm.success),void 0===s&&(s=p.i18n.confirm.cancel);var d=$(".confirm");d.length||(d=$('<div class="confirm"></div>'),$("body").append(d)),void 0===e&&(e=p.i18n.confirm.confirm);var c=Math.random().toString(),u=$('<div class="confirm-id" style="display: none;" data-id="'+c+'"><div class="confirm-title">'+e+'</div><div class="confirm-text">'+l+'</div><div class="confirm-footer"><button class="btn btn-transparent yes-trigger">'+n+'</button><button class="btn btn-transparent no-trigger">'+s+"</button></div></div>");d.append(u),u.fadeIn("fast",function(){"function"==typeof o&&o()}),"number"==typeof r&&r>0&&setTimeout(function(){pipui.confirm.close(u)},r),this.storage[c]={id:c,success:i,fail:a,yes:n,no:s,autoclose:r}},close:function(t,e){if(!(t="string"==typeof t?$(t):t).length)return!1;$(".confirm").stop();var i=0;t.each(function(t){var e=$(this);setTimeout(function(){e.fadeOut("fast",function(){$(this).remove()})},300*t),i=t}),"function"==typeof e&&setTimeout(function(){e()},300*i)},complete:function(t,e,i){if(t="string"==typeof t?$(t):t,e="yes"==e?e:"no",!t.length)return!1;$(".confirm").stop();var a=0;t.each(function(t){var i=$(this),r=pipui.confirm.storage[i.attr("data-id")];"undefined"!=r&&("yes"==e?"function"==typeof r.success&&r.success():"function"==typeof r.fail&&r.fail(),delete pipui.confirm.storage[i.attr("data-id")],setTimeout(function(){i.fadeOut("fast",function(){$(this).remove()})},300*t)),a=t}),"function"==typeof i&&setTimeout(function(){i()},300*a)}},$(function(){$("body").on("click",".confirm > .confirm-id .no-trigger, .confirm > .confirm-id .yes-trigger",function(t){t.preventDefault();var e=$(this);e.prop("disabled",!0),pipui.confirm.complete(e.closest(".confirm-id"),e.hasClass("yes-trigger")?"yes":"no")}),setTimeout(function(){pipui.confirm.close($('.confirm > .confirm-id[data-autoclose="true"]'))},pipui.confirm.openTimeout)}),pipui.addModule("tabs","1.0.0"),pipui.tabs={active:function(t){if("string"!=typeof t)return!1;var e=$('.tabs > .tab-links .tab-link[data-id="'+t+'"]'),i=$(".tabs > .tab-list > .tab-id"+t);if(e.hasClass("active")&&i.hasClass("active"))return!1;var a=e.closest(".tabs");return a.children(".tab-links").find(".tab-link.active").removeClass("active"),a.children(".tab-list").children(".tab-id.active").removeClass("active"),e.addClass("active"),i.addClass("active"),!0}},$(function(){$("body").on("click",".tabs > .tab-links .tab-link:not([data-link])",function(t){t.preventDefault(),pipui.tabs.active($(this).attr("data-id"))})}),pipui.addModule("spoiler","1.0.0"),pipui.spoiler={show:function(t){return(t="string"==typeof t?$(".spoiler"+t):t).length&&t.length?(t.slideDown("fast",function(){$(this).addClass("active")}),this):this},hide:function(t){return(t="string"==typeof t?$(".spoiler"+t):t).length&&t.length?(t.slideUp("fast",function(){$(this).removeClass("active")}),this):this},toggle:function(t){return(t="string"==typeof t?$(".spoiler"+t):t).length&&t.length?(t.slideToggle("fast",function(){$(this).toggleClass("active")}),this):this},showAll:function(){return $(".spoiler").slideDown("fast",function(){$(this).addClass("active")}),this},hideAll:function(){return $(".spoiler").slideUp("fast",function(){$(this).removeClass("active")}),this}},$(function(){$("body").on("click","[data-spoiler]",function(t){t.preventDefault();var e=$(this),i=e.attr("data-spoiler");void 0!==i&&""!=$.trim(i)||(i=e.attr("href")),i&&pipui.spoiler.toggle(i)}).on("click","[data-spoiler-show], [data-spoiler-hide]",function(t){t.preventDefault();var e=$(this),i=e.attr("data-spoiler-show"),a=e.attr("data-spoiler-hide"),r=void 0!==i,o=e.attr(r?i:a);void 0!==o&&""!=$.trim(o)||(o=e.attr("href")),o&&(r?pipui.spoiler.show(o):pipui.spoiler.hide(o))}).on("click",".accordion > .accordion-id > .accordion-trigger",function(t){t.preventDefault();var e=$(this);e.closest(".accordion").children(".accordion-id.active").children(".accordion-target").slideUp("fast",function(){$(this).closest(".accordion-id").removeClass("active")});var i=e.closest(".accordion-id");i.hasClass("active")?i.children(".accordion-target").slideUp("fast",function(){i.removeClass("active")}):i.children(".accordion-target").slideDown("fast",function(){i.addClass("active")})})}),pipui.addModule("textarea","1.0.0"),pipui.textarea={element:".textarea",render:function(t){$(t).length&&$(t).each(function(){var t=$(this),e=t.attr("data-textarea-id");void 0!==e&&""!=e||(e=Math.random());var i='.textarea-numbers[data-textarea-id="'+e+'"] > ul',a=$(i),r=t.find("textarea");a.length||(t.append('<div class="textarea-numbers" data-textarea-id="'+e+'"><ul></ul></div>'),r.attr("data-textarea-id",e),t.attr("data-textarea-id",e),a=$(i));for(var o=r[0].value,n=o.split("\n").length,s=1;s<=n;s++)a.append('<li data-id="'+s+'"><a href="#line-'+e+"-"+s+'">'+s+"</a></li>");r.val(o.replace(/ {3}/g,"\t"))})}},$(function(){pipui.textarea.render(pipui.textarea.element),$("html").on("keydown",pipui.textarea.element+" textarea",function(t){if(9==t.keyCode){var e=$(t.target).closest("textarea");e.length&&setTimeout(function(){e.focus();var t=e[0],i=t.selectionStart,a=t.selectionEnd,r=e.val(),o=r.substring(0,i),n=r.substring(i,a),s=r.substring(a,r.length),l=(n=n.replace(/\n/g,"\n\t")).split("\n").length;e.val(o+"\t"+n+s),t.setSelectionRange(i+1,a+l)},0)}}).on("click",pipui.textarea.element+" textarea",function(){$(this).attr("data-prev-start",this.selectionStart).attr("data-prev-end",this.selectionEnd)}).on("input",pipui.textarea.element+" textarea",function(){var t=$(this),e=parseInt(t.attr("data-prev-start")),i=parseInt(t.attr("data-prev-end")),a=this.selectionStart,r=this.selectionEnd,o=t.val(),n=t.attr("data-textarea-id"),s=o.match(/ {3}/g,"\t");s&&t.val(o.replace(/ {3}/g,"\t"));var l=t.closest(pipui.textarea.element).find("ul > li"),p=l.length,d=o.split("\n").length;if(d!=p)if(d>p)for(var c=l.closest("ul"),u=p+1;u<=d;u++)c.append('<li data-id="'+u+'"><a href="#line-'+n+"-"+u+'">'+u+"</a></li>");else t.closest(pipui.textarea.element).find("ul > li:nth-child("+d+")").nextAll().remove();s&&this.setSelectionRange(e-1,i-1),t.attr("data-prev-start",a).attr("data-prev-end",r)}).on("click",pipui.textarea.element+" > .textarea-numbers > ul > li > a",function(t){t.preventDefault();var e=$(this),i=e.attr("href").split("-"),a=parseInt(i[2])-1,r=e.closest(pipui.textarea.element).find("textarea"),o=r.val(),n=0,s=0;$.each(o.split("\n"),function(t,e){var i=e.length;if(a==t)return s=i,!1;n=n+i+1}),r.focus(),r[0].setSelectionRange(n,n+s),setTimeout(function(){r.scrollTop(e.closest("li")[0].offsetTop+10-(r.outerHeight()/2).toFixed())},0)}),$("body "+pipui.textarea.element+" textarea").on("scroll",function(t){var e=$(t.target);e.closest(pipui.textarea.element).find(".textarea-numbers > ul").css("top",-e.scrollTop()+"px")})}),pipui.addModule("bbpanel","1.0.0"),p.required("bbpanel","base","1.4.0",">="),p.i18n.bbpanel={b:"\u0416\u0438\u0440\u043d\u044b\u0439",i:"\u041a\u0443\u0440\u0441\u0438\u0432",u:"\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",s:"\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",left:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",center:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443",right:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",spoiler:"\u0421\u043a\u0440\u044b\u0442\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",color:"\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430",size:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0442\u0435\u043a\u0441\u0442\u0430",img:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438",quote:"\u0426\u0438\u0442\u0430\u0442\u0430",urlAlt:"\u0421\u0441\u044b\u043b\u043a\u0430",code:"\u041a\u043e\u0434",line:"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u0438\u043d\u0438\u044f",youtube:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 YouTube \u0432\u0438\u0434\u0435\u043e",hide:"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c"},pipui.bbpanel={element:".bbpanel",targetClass:"bbpanel-target",codes:{b:{title:p.i18n.bbpanel.b,text:'<i class="fa fa-bold"></i>',left:"[b]",right:"[/b]"},i:{title:p.i18n.bbpanel.i,text:'<i class="fa fa-italic"></i>',left:"[i]",right:"[/i]"},u:{title:p.i18n.bbpanel.u,text:'<i class="fa fa-underline"></i>',left:"[u]",right:"[/u]"},s:{title:p.i18n.bbpanel.s,text:'<i class="fa fa-strikethrough"></i>',left:"[s]",right:"[/s]"},left:{title:p.i18n.bbpanel.left,text:'<i class="fa fa-align-left"></i>',left:"[left]",right:"[/left]"},center:{title:p.i18n.bbpanel.center,text:'<i class="fa fa-align-center"></i>',left:"[center]",right:"[/center]"},right:{title:p.i18n.bbpanel.right,text:'<i class="fa fa-align-right"></i>',left:"[right]",right:"[/right]"},spoiler:{title:p.i18n.bbpanel.spoiler,text:'<i class="fa fa-eye-slash"></i>',left:'[spoiler=""]',right:"[/spoiler]"},color:{title:p.i18n.bbpanel.color,text:'<i class="fa fa-paint-brush"></i>',left:'[color="#"]',right:"[/color]"},size:{title:p.i18n.bbpanel.size,text:'<i class="fa fa-text-height"></i>',left:'[size="1"]',right:"[/size]"},img:{title:p.i18n.bbpanel.img,text:'<i class="fa fa-picture-o"></i>',left:"[img]",right:"[/img]"},quote:{title:p.i18n.bbpanel.quote,text:'<i class="fa fa-quote-right"></i>',left:"[quote]",right:"[/quote]"},urlAlt:{title:p.i18n.bbpanel.urlAlt,text:'<i class="fa fa-link"></i>',left:'[url=""]',right:"[/url]"},code:{title:p.i18n.bbpanel.code,text:'<i class="fa fa-code"></i>',left:"[code]",right:"[/code]"},line:{title:p.i18n.bbpanel.line,text:'<i class="fa fa-minus"></i>',left:"",right:"[line]"},youtube:{title:p.i18n.bbpanel.youtube,text:'<i class="fa fa-youtube-play"></i>',left:"[youtube]",right:"[/youtube]"},hide:{title:p.i18n.bbpanel.hide,text:'<i class="fa fa-angle-up"></i>',method:function(t){t.closest(".bbpanel-target").slideUp("fast")}}},items:null,renderItems:function(){return null===pipui.bbpanel.items&&(pipui.bbpanel.items="",$.each(pipui.bbpanel.codes,function(t,e){void 0!==e.method?pipui.bbpanel.items+='<li><a href="#bb-'+t+'" class="bbpanel-tag" data-method="'+t+'" title="'+e.title+'">'+e.text+"</a></li>":(e.left=e.left.replace(/"/g,"&quote;"),e.right=e.right.replace(/"/g,"&quote;"),pipui.bbpanel.items+='<li><a href="#bb-'+t+'" class="bbpanel-tag" data-left="'+e.left+'" data-right="'+e.right+'" title="'+e.title+'">'+e.text+"</a></li>")}),!0)},render:function(t){"string"==typeof t&&(t=$(t)),t.each(function(){var t=$(this),e=t.attr("data-panel-id");if(void 0===e){e=Math.random(),null===pipui.bbpanel.items&&pipui.bbpanel.renderItems(),t.attr("data-panel-id",e);var i=$('<div class="'+pipui.bbpanel.targetClass+'" data-panel-id="'+e+'"><ul data-panel-id="'+e+'">'+pipui.bbpanel.items+"</ul></div>");t.after(i)}})}},$(function(){$("body").on("focus",pipui.bbpanel.element,function(t){t.preventDefault();var e=$(this);pipui.bbpanel.render(e),setTimeout(function(){$("."+pipui.bbpanel.targetClass+'[data-panel-id="'+e.attr("data-panel-id")+'"]').slideDown("fast")},0)}).on("click","."+pipui.bbpanel.targetClass+" .bbpanel-tag",function(t){t.preventDefault();var e=$(this),i=e.attr("data-method");if(void 0===i){var a=e.attr("data-left").replace(/&quote;/g,'"'),r=e.attr("data-right").replace(/&quote;/g,'"'),o=e.closest("."+pipui.bbpanel.targetClass).attr("data-panel-id"),n=$(pipui.bbpanel.element+'[data-panel-id="'+o+'"]')[0];n.focus();var s=n.value,l=n.selectionStart,p=n.selectionEnd,d=s.substring(0,l),c=s.substr(p),u=s.substring(l,p);n.value=d+a+u+r+c,n.setSelectionRange(l,a.length+r.length+p)}else pipui.bbpanel.codes[i].method(e)})}),pipui.addModule("bbcodes","1.0.0"),$(function(){$("body").on("click",".bb-spoiler-wrapper > .bb-spoiler > .bb-spoiler-trigger",function(t){t.preventDefault();var e=$(this);if("true"!=e.attr("data-bb-disabled")){e.attr("data-bb-disabled","true");var i=e.closest(".bb-spoiler");i.children(".bb-spoiler-text").slideToggle("fast",function(){e.attr("data-bb-disabled","false"),i.toggleClass("open")})}})}),pipui.addModule("formvalidator","1.0.0"),p.required("formvalidator","base","1.4.0",">="),p.i18n.formvalidator={incorrect:"\u041f\u043e\u043b\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e"},pipui.formvalidator={form:"[data-formvalidator]",timeout:2e3,defaultType:"warning",storage:{}},$(function(){$("body").on("click",pipui.formvalidator.form+' [type="submit"]',function(t){for(var e=!0,i=$(this).closest("form").find("input, textarea, select"),a=0;a<i.length;a++)if(null!==i[a].getAttribute("name")){var r=$(i[a]);if(!i[a].checkValidity()){e=!1;var o=r.attr("data-formvalidator-id");void 0===o&&(o=Math.random().toString(),r.attr("data-formvalidator-id",o));var n=r.attr("data-formvalidator-text");void 0===n&&(n=p.i18n.formvalidator.incorrect);var s=$('.formvalidator-alert[data-formvalidator-id="'+o+'"]');if(!s.length){var l=r.closest("label");l.length?l.after('<div class="formvalidator-alert" data-formvalidator-id="'+o+'"></div>'):r.after('<div class="formvalidator-alert" data-formvalidator-id="'+o+'"></div>'),s=$('.formvalidator-alert[data-formvalidator-id="'+o+'"]')}var d=r.attr("data-formvalidator-type");void 0===d&&(d=pipui.formvalidator.defaultType),s.removeClass("warning info danger success").addClass(d);var c="";"warning"==d?c='<i class="fa fa-exclamation-triangle"></i>':"danger"==d?c='<i class="fa fa-exclamation-circle"></i>':"info"==d?c='<i class="fa fa-info-circle"></i>':"success"==d&&(c='<i class="fa fa-check-circle"></i>'),s.html('<div class="wrapper"><div class="icon-block">'+c+'</div><div class="text-block">'+n+'</div><div class="close-block"><a href="#" class="close">&times;</a></div></div>').fadeIn("fast")}}if(!e)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1}).on("click",".formvalidator-alert > .wrapper > .close-block > .close",function(t){t.preventDefault(),$(this).closest(".formvalidator-alert").fadeOut("fast")}).on("input change",pipui.formvalidator.form+" input, "+pipui.formvalidator.form+" select, "+pipui.formvalidator.form+" textarea",function(){var t=$(this);if(t[0].checkValidity()){var e=$('.formvalidator-alert[data-formvalidator-id="'+t.attr("data-formvalidator-id")+'"]');e.length&&e.fadeOut("fast")}})}),pipui.addModule("dropdown","1.0.0"),p.required("dropdown","base","1.4.0",">="),pipui.dropdown={toggle:function(t){if(!t.length)return!1;var e=t.find(".dropdown-target:first");if(!e.length)return!1;e.is(":visible")?pipui.dropdown.hide(t):pipui.dropdown.show(t)},show:function(t){if(!t.length)return!1;t.addClass("active");var e=t.find(".dropdown-trigger:first");"auto"==t.attr("data-dropdown-placement")&&(pipui.top_space(e)>pipui.bottom_space(e)?t.attr("data-dropdown-y","top"):t.attr("data-dropdown-y","bottom"),pipui.left_space(e)>pipui.right_space(e)?t.attr("data-dropdown-x","left"):t.attr("data-dropdown-x","right")),e.addClass("active")},hide:function(t){if(!t.length)return!1;t.removeClass("active"),t.find(".dropdown.active, .dropdown-trigger.active").removeClass("active")}},$(function(){$("body").on("click",".dropdown > .dropdown-trigger",function(t){t.preventDefault(),pipui.dropdown.toggle($(this).closest(".dropdown"))}),$("html").on("click","body",function(t){var e=$(t.target).closest(".dropdown:not(.dropdown-submenu)");$(".dropdown.active").each(function(){var t=$(this).closest(".dropdown:not(.dropdown-submenu)");t.is(e)||(t.removeClass("active"),t.find(".dropdown.active, .dropdown-trigger.active").removeClass("active"))})})}),pipui.addModule("toggle","1.0.0"),$(function(){$("body").on("click","[data-toggle]",function(t){"INPUT"!=t.target.tagName&&t.preventDefault();var e=$(this),i=e.attr("data-toggle"),a=$(i);if(a.length){var r=e.attr("data-toggle-class"),o=e.attr("data-toggle-fade");"fade"==o?a.fadeToggle("fast",function(){r&&$(this).toggleClass(r)}):"slide"==o?a.slideToggle("fast",function(){r&&$(this).toggleClass(r)}):a.toggle(function(){r&&$(this).toggleClass(r)})}})}),pipui.addModule("tabindex","1.0.0"),pipui.tabindex={search_next:function(t,e){var i=e.find("[tabindex]"),a=i.length;if(!a)return null;if(null===t||1==a)return i[0].getAttribute("tabindex");for(var r=[],o=0;o<a;o++)r.push(parseInt(i[o].getAttribute("tabindex")));r=r.sort(function(t,e){return t-e});var n=0;$.each(r,function(e,i){if(i==t)return n=e,!1});var s=r[n+1];return void 0===s&&(s=r[0]),s}},$(function(){$("body").on("keydown",function(t){if(9==t.which){t.preventDefault();var e=$(t.target).closest("[data-tabindex]");e.length||(e=$("body"));var i=pipui.tabindex.search_next(t.target.getAttribute("tabindex"),e);$('[tabindex="'+i+'"]').focus()}})}),pipui.addModule("pagination","1.0.0"),pipui.pagination={get_data:function(t){var e=parseInt(t.attr("data-pagination"));isNaN(e)&&(e=0);var i=parseInt(t.attr("data-pagination-current"));(isNaN(i)||i<=0)&&(i=1);var a=parseInt(t.attr("data-pagination-pages"));(isNaN(a)||a<=0)&&(a=1);var r=t.attr("data-pagination-url");return void 0===r&&(r="/page-{NUM}"),{type:e,current:i,pages:a,url:r}},init:function(){var t=$(".pagination[data-pagination]");t.each(function(){var t=$(this),e=pipui.pagination.get_data(t),i=pipui.pagination.types[e.type];void 0!==i&&i.update(t,e.current,e.pages,e.url)}),t.fadeIn()},types:{0:{update:function(t,e,i,a){for(var r="",o=1;o<=i;o++)r+='<li data-page="'+o+'" '+(o==e?'class="active"':"")+">",r+='<a title="'+o+'" href="'+a.replace("{NUM}",o)+'">'+o+"</a>",r+="</li>";t.html(r)}},1:{pages:2,update:function(t,e,i,a){var r="",o=this.pages;i<2*o+1&&(o=Math.floor(i/2)-1),e>1&&(r+='<li class="scroller"><a href="'+a.replace("{NUM}",e-1)+'">\u2039</a></li>');for(var n=o;n<e;n++)n<1||(r+='<li data-page="'+n+'" '+(n==e?'class="active"':"")+">",r+='<a title="'+n+'" href="'+a.replace("{NUM}",n)+'">'+n+"</a>",r+="</li>");r+='<li class="active" data-page="'+e+'">',r+='<a title="'+e+'" href="'+a.replace("{NUM}",e)+'">'+e+"</a>",r+="</li>";for(var s=e+1;s<=o;s++)s>i||(r+='<li  data-page="'+s+'" '+(s==e?'class="active"':"")+">",r+='<a title="'+s+'" href="'+a.replace("{NUM}",s)+'">'+s+"</a>",r+="</li>");e<i&&(r+='<li class="scroller"><a href="'+a.replace("{NUM}",e+1)+'">\u203a</a></li>'),t.html(r)}},2:{pages:2,update:function(t,e,i,a){var r="",o=this.pages;i<2*o+1&&(o=Math.floor(i/2)-1),e-1>1&&(r+='<li class="scroller"><a href="'+a.replace("{NUM}",1)+'">\xab</a></li>'),e>1&&(r+='<li class="scroller"><a href="'+a.replace("{NUM}",e-1)+'">\u2039</a></li>');for(var n=o;n<e;n++)n<1||(r+='<li data-page="'+n+'" '+(n==e?'class="active"':"")+">",r+='<a title="'+n+'" href="'+a.replace("{NUM}",n)+'">'+n+"</a>",r+="</li>");r+='<li data-page="'+e+'" class="active">',r+='<a title="'+e+'" href="'+a.replace("{NUM}",e)+'">'+e+"</a>",r+="</li>";for(var s=e+1;s<=o;s++)s>i||(r+='<li data-page="'+s+'" '+(s==e?'class="active"':"")+">",r+='<a title="'+s+'" href="'+a.replace("{NUM}",s)+'">'+s+"</a>",r+="</li>");e<i&&(r+='<li class="scroller"><a href="'+a.replace("{NUM}",e+1)+'">\u203a</a></li>'),e<i-1&&(r+='<li class="scroller"><a href="'+a.replace("{NUM}",i)+'">\xbb</a></li>'),t.html(r)}},3:{pages:2,scroll:function(t,e){var i=pipui.pagination.get_data(e),a=parseInt(e.find("li.selected").attr("data-page"));"prev"==t?(a-1<1&&(a=2),this.update(e,i.current,i.pages,i.url,a-1)):"next"==t?(a+1>i.pages&&(a=i.pages-1),this.update(e,i.current,i.pages,i.url,a+1)):"first"==t?this.update(e,i.current,i.pages,i.url,1):"last"==t&&this.update(e,i.current,i.pages,i.url,i.pages)},update:function(t,e,i,a,r){var o="",n=pipui.pagination.types[3].pages;i<2*n+1&&(n=Math.floor(i/2)-1),void 0===r&&(r=e);var s=r-n;s<1&&(s=1);var l=s+2*n;l>i&&(s=(l=i)-2*n),n<=1&&(s=1,l=i),o+='<li class="scroller"><a data-pagination-scroll="first" href="#">\xab</a></li>',o+='<li class="scroller"><a data-pagination-scroll="prev" href="#">\u2039</a></li>';for(var p=s;p<=l;p++)o+='<li class="'+(p==e?"active":"")+" "+(p==r?"selected":"")+'" data-page="'+p+'">',o+='<a title="'+p+'" href="'+a.replace("{NUM}",p)+'">'+p+"</a>",o+="</li>";o+='<li class="scroller"><a data-pagination-scroll="next" href="#">\u203a</a></li>',t.html(o+='<li class="scroller"><a data-pagination-scroll="last" href="#">\xbb</a></li>')}}}},$(function(){$(".pagination[data-pagination]").hide(),pipui.pagination.init(),$("body").on("click",".pagination[data-pagination] [data-pagination-scroll]",function(t){t.preventDefault();var e=$(this),i=e.closest(".pagination"),a=pipui.pagination.get_data(i),r=e.attr("data-pagination-scroll");pipui.pagination.types[a.type].scroll(r,i)})}),pipui.addModule("navmenu","1.0.0"),pipui.navmenu={toggle:function(t){var e=t.closest(".nav-menu-item"),i=e.children(".nav-sub-menu");if(!i.length)return!1;i.is(":visible")?t.removeClass("active"):t.addClass("active"),i.slideToggle("fast",function(){$(this).is(":hidden")?e.removeClass("active"):e.addClass("active")})}},$(function(){$("body").on("click",".nav-menu .nav-menu-link.nav-menu-toggle",function(t){t.preventDefault(),pipui.navmenu.toggle($(this))})}),pipui.addModule("autocomplete","1.0.0"),p.required("autocomplete","base","1.4.0",">="),p.i18n.autocomplete={completed:"Autocomplete: Search completed",found:"Autocomplete: Results found",notfound:"Autocomplete: Results not found",installed:"Autocomplete: installed",typing:"Autocomplete: Typing... % | Delay: %",error:'Autocomplete: Error "%"'},pipui.autocomplete_helper={defaultSelector:"[data-ac]",is_init:function(t){var e=t.attr("data-ac-id");return"string"==typeof e&&e.length},position:function(t,e){var i=e.offset(),a=e.outerHeight();t.css({top:i.top+a+"px",left:i.left+"px"})}},pipui.autocomplete=function(t){var e,i,a,r,o,n,s,l,p,d,c=t,u="text",f="",g=Math.random().toString(),h={},v="GET",m=400,b=3,y=10,k=this,w="",C=[],x='<div class="autocomplete" data-ac-id="{ID}"><ul class="autocomplete-list"></ul></div>',T='<li class="autocomplete-item"><a href="#" class="autocomplete-link" data-key="{KEY}" data-index="{INDEX}" rel="nofollow">{VALUE}</a></li>',M=function(t){if(t&&t.length){var e,i=r.find(".autocomplete-list");i.empty(),$.each(t,function(t,a){e=(e=T.replace(/\{KEY\}/g,a.key)).replace(/\{INDEX\}/g,a.index),i.append(e.replace(/\{VALUE\}/g,a.value))}),r.addClass("visible"),r.find(".autocomplete-link").on("click",function(e){e.preventDefault();var i=$(this);if(r.hasClass("visible")){var a=i.attr("data-index");c.val(t[a].value),r.removeClass("visible"),"function"==typeof p&&p(t[a],i)}})}else r.removeClass("visible")},N=function(t,e){if(C=[],e.length<b)return C;var a=0;return"text"==u&&(t=t.split(",")),$.each(t,function(t,r){if("string"==typeof i&&(r=r[i]),void 0!==r)return!(-1!==r.toLowerCase().indexOf(e.toLowerCase())&&(C.push({value:r,key:t,index:a}),++a>=y))&&void 0}),a?("function"==typeof n&&n(C),pipui.autocomplete_helper.position(r,c)):"function"==typeof s&&s(),C};this.setParams=function(t){return h=t,k},this.setTemplateBlock=function(t){return x=t,k},this.setTemplateSelector=function(t){return T=t,k},this.getResult=function(){return C},this.getInput=function(){return c},this.setType=function(t){return u="string"!=typeof t?"text":t,k},this.setURL=function(t){return e="string"!=typeof t?"":t,k},this.setData=function(t){return f=t,k},this.setMin=function(t){return b="number"!=typeof t||t<1?1:parseInt(t),k},this.setMethod=function(t){return v="string"!=typeof t?"":t,k},this.setTimer=function(t){return m="number"!=typeof t||t<0?0:parseInt(t),k},this.setResults=function(t){return y="number"!=typeof t||t<1?1:parseInt(t),k},this.setKey=function(t){return i="string"!=typeof t?void 0:t,k},this.typing=function(t){return"function"!=typeof t||(o=t),k},this.choice=function(t){return"function"!=typeof t||(p=t),k},this.found=function(t){return"function"!=typeof t||(n=t),k},this.notfound=function(t){return"function"!=typeof t||(s=t),k},this.error=function(t){return"function"!=typeof t||(l=t),k},this.success=function(t){return"function"!=typeof t||(d=t),k},function(t){t.attr("data-ac-id",g);var e=t.attr("data-ac-data"),i=t.attr("data-ac-type"),a=t.attr("data-ac-key"),o=t.attr("data-ac-min"),n=t.attr("data-ac-url"),s=t.attr("data-ac-method"),l=t.attr("data-ac-timer"),p=t.attr("data-ac-results");"string"==typeof i&&-1!==["text","object","array","json"].indexOf(i.toLowerCase())&&k.setType(i.toLowerCase()),"string"==typeof e&&e.length&&(void 0===i&&k.setType("text"),k.setData(e)),"string"==typeof a&&a.length&&k.setKey(a),"string"==typeof o&&o.length&&k.setMin(parseInt(o)),"string"==typeof n&&n.length&&k.setURL(n),"string"==typeof s&&s.length&&k.setMethod(s),"string"==typeof l&&l.length&&k.setTimer(parseInt(l)),"string"==typeof p&&p.length&&k.setResults(parseInt(p)),r=$(x.replace(/\{ID\}/g,g)),$("body").append(r)}(t),c.on("input",function(){var t=$(this);w=t.val(),"function"==typeof o&&o(w);var i={};if(e){var r="[object FormData]"===h.toString()?h:new FormData;r.append("value",w),"[object FormData]"!==h.toString()&&void 0!==h&&$.each(h,function(t,e){r.append(t.toString(),e.toString())}),void 0!==a&&clearTimeout(a),a=setTimeout(function(){var t={url:e,type:v,async:!0,cache:!1,contentType:!1,processData:!1,data:r,error:function(t,e,i){"function"==typeof l&&l(t)},success:function(t,e,a){i=N(f=t,w),M(i),"function"==typeof d&&d(t,e,a)}};return"json"==u||void 0===u?t.dataType="json":"text"==u&&(t.dataType="text"),$.ajax(t)},m)}else void 0!==a&&clearTimeout(a),a=setTimeout(function(){i=N(f,w),M(i),"function"==typeof d&&d(i,"")},m)}).on("keydown",function(t){if(40==t.keyCode||38==t.keyCode||13==t.keyCode)if(t.preventDefault(),40==t.keyCode||38==t.keyCode){var e=r.find(".autocomplete-link"),i=e.length,a=-1;e.each(function(t){var e=$(this);e.hasClass("hover")&&(e.removeClass("hover"),a=t)}),$(e[40==t.keyCode?a==i-1?0:a+1:0==a?i-1:a-1]).addClass("hover")}else{var o=r.find(".autocomplete-link.hover");o.length&&o.trigger("click")}})},$(function(){window.onresize=function(){var t=$(".autocomplete.visible");if(t.length){var e=$('input[data-ac-id="'+t.attr("data-ac-id")+'"]');e.length&&pipui.autocomplete_helper.position(t,e)}},$("body").on("focus",pipui.autocomplete_helper.defaultSelector,function(){var t=$(this);pipui.autocomplete_helper.is_init(t)||new pipui.autocomplete(t)})}),pipui.addModule("poplight","1.0.0"),pipui.poplight={overlay_close:!0,overlay:function(t){var e=$(".poplight-overlay");e.length||(e=$('<div class="poplight-overlay"></div>'),$("body").append(e)),this.overlay_close?e.addClass("canclose"):e.removeClass("canclose"),setTimeout(function(){t?e.addClass("active"):e.removeClass("active")},0)},active:function(t){if("string"==typeof t&&(t=$(t)),!t.length)return!1;this.overlay(!0);var e=t.css("position");void 0!==t.attr("data-poplight-prepos")&&t.attr("data-poplight-prepos",e),"static"==e&&t.css("position","relative"),t.addClass("poplight-box");var i=t.first(),a=i.offset(),r=$(window),o=r.width(),n=r.height(),s=a.top-n/2+i.outerHeight()/2;return $("html").animate({scrollTop:s},500),t.each(function(t){var e=$(this),i=e.attr("data-poplight-message"),a=e.attr("data-poplight-id");if(void 0===a&&(a=Math.random(),e.attr("data-poplight-id",a)),"#"==i[0]||"["==i[0]||"."==i[0])(i=$(i)).attr("data-poplight-id",a);else{var r=$('.poplight-message[data-poplight-id="'+a+'"]');r.length?(r.html('<a href="#" class="poplight-message-close">&times;</a>'+i),i=r):(i=$('<div class="poplight-message" data-poplight-id="'+a+'"><a href="#" class="poplight-message-close">&times;</a>'+i+"</div>"),$("body").append(i))}var s=e.outerHeight(),l=e.outerWidth(),p=e.offset(),d=p.top,c=p.left,u=o-(c+l),f=n-(d+s);i.removeClass("poplight-top poplight-bottom poplight-left poplight-right"),d>f?i.css({top:"auto",bottom:n-d+8+"px"}).addClass("poplight-top"):i.css({bottom:"auto",top:d+s+8+"px"}).addClass("poplight-bottom"),c>u?i.css({left:"auto",right:u+20+"px"}).addClass("poplight-left"):i.css({right:"auto",left:c+20+"px"}).addClass("poplight-right"),setTimeout(function(){i.addClass("active")},t)}),!0},deactive:function(t){if("string"==typeof t&&(t=$(t)),!t.length)return!1;var e=t.attr("data-poplight-prepos");return t.css("position",e).removeClass("poplight-box").removeAttr("data-poplight-prepos"),$(".poplight-message").removeClass("active"),this.overlay(!1),!0}},$(function(){$("body").on("click","[data-poplight]",function(t){t.preventDefault(),pipui.poplight.active($(this).attr("data-poplight"))}).on("click",".poplight-overlay.active.canclose",function(t){t.preventDefault(),pipui.poplight.deactive(".poplight-box")}).on("click",".poplight-message .poplight-message-close",function(t){t.preventDefault(),$(this).closest(".poplight-message").removeClass("active"),$(".poplight-message.active").length||pipui.poplight.deactive(".poplight-box")})}),pipui.addModule("popup","1.0.0"),pipui.popup={showSpeed:"fast",hideSpeed:"fast",arrowSize:8,lock:!1,create:function(t,e,i,a,r){if("string"==typeof t&&(t=$(t)),!t.length)return!1;var o,n=t.attr("data-popup-id");return void 0===r&&(r="top"),void 0!==n&&(o=$('.popup[data-popup-id="'+n+'"]')).length?(a&&o.attr("data-popup-closeover","true"),o.attr("data-popup-placement",r),this.show(o,t),n):(n=Math.random(),o=$('<div class="popup" data-popup-id="'+n+'" data-popup-placement="'+r+'"><div class="popup-header">'+e+'</div><div class="popup-body">'+i+"</div></div>"),a&&o.attr("data-popup-closeover","true"),$("body").append(o),this.show(o,t),'.popup[data-popup-id="'+n+'"]')},show:function(t,e){if(this.lock)return!1;if("string"==typeof t&&(t=$(t)),"string"==typeof e&&(e=$(e)),!t.length||1!=e.length)return!1;if(this.lock=!0,void 0===t.attr("data-popup-id")){var i=Math.random();t.attr("data-popup-id",i),e.attr("data-popup-id",i)}var a=this.calculate_position(t,e);return t.css({top:a.top+"px",left:a.left+"px"}),t.fadeIn(this.showSpeed,function(){$(this).addClass("active"),pipui.popup.lock=!1}),!0},hide:function(t){return!this.lock&&("string"==typeof t&&(t=$(t)),!!t.length&&(this.lock=!0,t.fadeOut(this.hideSpeed,function(){$(this).removeClass("active"),pipui.popup.lock=!1}),!0))},toggle:function(t,e){return!this.lock&&("string"==typeof t&&(t=$(t)),t.hasClass("active")?this.hide(t):this.show(t,e),!0)},calculate_placement:function(t,e,i,a,r,o,n){if("left"!=t&&"top"!=t&&"right"!=t&&"bottom"!=t&&(t="top"),"left"==t){if(r>=o+this.arrowSize)return"left";if(i>=o+this.arrowSize)return"right";if(a>e&&a>n+this.arrowSize)return"bottom"}else if("right"==t){if(i>=o+this.arrowSize)return"right";if(r>=o+this.arrowSize)return"left";if(a>e&&a>n+this.arrowSize)return"bottom"}else if("bottom"==t){if(a>=n+this.arrowSize)return"bottom";if(e>=n+this.arrowSize)return"top";if(r>=o+this.arrowSize)return"left";if(i>o+this.arrowSize)return"right"}else if("top"==t){if(e>=n+this.arrowSize)return"top";if(a>=n+this.arrowSize)return"bottom";if(r>=o+this.arrowSize)return"left";if(i>o+this.arrowSize)return"right"}return"top"},calculate_position:function(t,e){var i=e.offset(),a=t.outerWidth(),r=t.outerHeight(),o=e.outerWidth(),n=e.outerHeight(),s=t.attr("data-popup-placement"),l=$(window),p=l.width(),d=l.height(),c={top:i.top-window.pageYOffset,left:i.left,bottom:d-(i.top-window.pageYOffset+n),right:p-(i.left+o)};return s=this.calculate_placement(s,c.top,c.right,c.bottom,c.left,a,r),t.attr("data-popup-direction",s),"left"==s?{top:i.top+n/2-r/2,left:i.left-a-this.arrowSize}:"right"==s?{top:i.top+n/2-r/2,left:i.left+o+this.arrowSize}:"bottom"==s?{top:i.top+n+this.arrowSize,left:i.left+o/2-a/2}:{top:i.top-r-this.arrowSize,left:i.left+o/2-a/2}},update:function(){var t=$(".popup.active");return!!t.length&&(t.each(function(){var t=$(this),e=t.attr("data-popup-id"),i=$('[data-popup-id="'+e+'"]:not(.popup)');if(i.length){var a=pipui.popup.calculate_position(t,i);t.css({top:a.top+"px",left:a.left+"px"})}}),!0)}},$(function(){$("body").on("click","[data-popup]",function(t){t.preventDefault();var e=$(this);pipui.popup.toggle(e.attr("data-popup"),e)}),$("html").on("click","body",function(t){var e=$(t.target).closest(".popup");if(e.length){var i=e.attr("data-popup-id");void 0!==i&&pipui.popup.hide($('.popup[data-popup-closeover]:not([data-popup-id="'+i+'"])'))}else pipui.popup.hide($(".popup[data-popup-closeover]"))}),$(window).on("resize scroll",function(){pipui.popup.update()})}),pipui.addModule("slider","1.0.0"),function(t){var e={setControl:function(t,e){return e.find(".slider-control .slider-control-label.active").removeClass("active"),e.find(".slider-control .slider-control-label:nth-child("+(t+1)+")").addClass("active"),e},prev:function(t){if(void 0===t||!t.length)return t;var e=t.attr("data-slider-id"),a=i[e];return this.setSlide(a.current<=0?a.slides.length-1:a.current-1,t)},next:function(t){if(void 0===t||!t.length)return t;var e=t.attr("data-slider-id"),a=i[e];return this.setSlide(a.current+1>=a.slides.length?0:a.current+1,t)},auto:function(t,e){var a=this,r=i[e];void 0!==r.timeout&&clearTimeout(i[e].timeout),!t.hasClass("paused")&&r.auto&&r.autoSpeed&&(i[e].timeout=setTimeout(function(){a.next(t)},r.autoSpeed))},setSlide:function(e,a){var r=this;if(void 0===a||!a.length)return a;var o=a.attr("data-slider-id"),n=i[o];if(void 0===n||1==a.find(".slider-wrapper > .slider-slide").length||n.locked)return a;a.trigger("slider.change"),i[o].locked=!0;var s=a.find(".slider-wrapper > .slider-slide.active");s.removeClass("active");var l=a.find(".slider-wrapper > .slider-slide:nth-child("+(e+1)+")");return l.length?(n.current<e?(l.css({right:"auto",left:"100%","z-index":"2"}),s.css({left:"auto",right:"0","z-index":"1"}),l.animate({left:"0"},{duration:n.speed,easing:n.easing,queue:!1,complete:function(){t(this).addClass("active").trigger("slider.change.complete"),r.auto(a,o)}}),s.animate({right:"100%"},{duration:n.speed,easing:n.easing,queue:!1,complete:function(){t(this).removeClass("active").trigger("slider.change.complete"),i[o].locked=!1,r.auto(a,o)}})):n.current>e?(l.css({left:"auto",right:"100%","z-index":"2"}),s.css({right:"auto",left:"0","z-index":"1"}),l.animate({right:"0"},{duration:n.speed,easing:n.easing,queue:!1,complete:function(){t(this).addClass("active").trigger("slider.change.complete"),r.auto(a,o)}}),s.animate({left:"100%"},{duration:n.speed,easing:n.easing,queue:!1,complete:function(){t(this).removeClass("active").trigger("slider.change.complete"),i[o].locked=!1,r.auto(a,o)}})):(i[o].locked=!1,a.trigger("slider.change.complete")),i[o].current=e,this.setControl(e,a)):void 0}},i={};t.fn.slider=function(a){var r=this,o=Math.random();return i[o]=t.extend({},{id:o,height:"280px",width:"100%",slides:[],control:"default",auto:!0,autoSpeed:5e3,pauseOnHover:!0,timeout:void 0,current:0,speed:800,easing:"easeInOutQuint",locked:!1},a),r.setHeight=function(t){return i[o].height=t,this},r.setWidth=function(t){return i[o].width=t,this},r.setSlides=function(t){return i[o].slides=t,this},r.setControl=function(t){return i[o].control=t,this},r.setAuto=function(t){return i[o].auto=t,this},r.setAutoSpeed=function(t){return i[o].autoSpeed=t,this},r.setPauseOnHover=function(t){return i[o].pauseOnHover=t,this},r.setSpeed=function(t){return i[o].speed=t,this},r.setEasing=function(t){return i[o].easing=t,this},r.setSlide=function(t){return e.setSlide(t,this),this},r.next=function(){return e.next(this),this},r.prev=function(){return e.prev(this),this},r.restoreControl=function(){var e=this;e.find(".slider-control").remove(),e.append('<div class="slider-control"></div>');for(var a=e.children(".slider-control"),r="",n=0;n<i[o].slides.length;n++)r=t('<a href="#" class="slider-control-label"></a>'),i[o].current==n&&r.addClass("active"),a.append(r);return e},r.update=function(){var e=this;if(e.html(""),e.addClass("slider active").attr("data-slider-id",i[o].id).html('<div class="slider-wrapper" style="width: '+i[o].width+"; height: "+i[o].height+';"></div>'),"object"!=typeof i[o].slides)return e;var a=i[o].slides.length;if(!a)return e;for(var r="",n=e.children(".slider-wrapper"),s=0;s<a;s++)"string"==typeof(r=i[o].slides[s])&&r.length&&(r=t(r),s==i[o].current&&r.addClass("active"),n.append(r));return void 0!==i[o].timeout&&clearTimeout(i[o].timeout),i[o].auto&&i[o].autoSpeed&&(i[o].timeout=setTimeout(function(){e.next()},i[o].autoSpeed)),e.restoreControl()},r.update()},t(function(){t("body").on("click",".slider > .slider-control > .slider-control-label",function(a){a.preventDefault();var r=t(this),o=r.closest(".slider").attr("data-slider-id"),n=t('.slider[data-slider-id="'+o+'"]');if(void 0!==i[o]){var s=r.closest(".slider-control").find(".slider-control-label").index(r);e.setSlide(s,n)}}).on("mouseenter",".slider",function(){var e=t(this).closest(".slider"),a=e.attr("data-slider-id"),r=i[a];r.pauseOnHover&&void 0!==r.timeout&&(r.auto&&r.autoSpeed&&e.addClass("paused"),clearTimeout(i[a].timeout))}).on("mouseleave",".slider",function(){var a=t(this),r=a.attr("data-slider-id");i[r].pauseOnHover&&(a.removeClass("paused"),e.auto(a,r))})})}(jQuery),pipui.addModule("tooltip","1.0.0"),pipui.tooltip={margin:2,trigger:"data-tooltip",fadeInSpeed:"fast",fadeOutSpeed:"fast",getPosition:function(t){return void 0!==t.attr(pipui.tooltip.trigger)?"":void 0!==t.attr(pipui.tooltip.trigger+"-left")?"-left":void 0!==t.attr(pipui.tooltip.trigger+"-right")?"-right":void 0!==t.attr(pipui.tooltip.trigger+"-top")?"-top":"-bottom"},setPosition:function(t,e,i){var a=-9999,r=-9999;e.css({top:a+"px",left:r+"px"});var o=t.offset(),n=t.outerWidth(),s=t.outerHeight(),l=e.outerWidth(),p=e.outerHeight();"-left"==i?(a=o.top+s/2-p/2,r=o.left-l-4-pipui.tooltip.margin):"-right"==i?(a=o.top+s/2-p/2,r=o.left+n+4+pipui.tooltip.margin):"-bottom"==i?(a=o.top+s+4+pipui.tooltip.margin,r=o.left+n/2-l/2):(a=o.top-p-4-pipui.tooltip.margin,r=o.left+n/2-l/2),e.css({top:a+"px",left:r+"px"})}},$(function(){$("body").on("mouseenter","["+pipui.tooltip.trigger+"], ["+pipui.tooltip.trigger+"-left], ["+pipui.tooltip.trigger+"-right],["+pipui.tooltip.trigger+"-top], ["+pipui.tooltip.trigger+"-bottom]",function(){var t=$(this),e=t.attr("data-tooltip-id"),i=pipui.tooltip.getPosition(t),a=t.attr(pipui.tooltip.trigger+i);if(""!=$.trim(a)){if(void 0===e){e=Math.random(),t.attr("data-tooltip-id",e);var r=$('<div class="tooltip" data-tooltip-id="'+e+'">'+a+"</div>");$("body").append(r)}var o=$('.tooltip[data-tooltip-id="'+e+'"]');o.removeClass("tooltip-pos tooltip-pos-left tooltip-pos-right tooltip-pos-bottom tooltip-pos-top").addClass("tooltip-pos"+i),pipui.tooltip.setPosition(t,o,i),o.addClass("show")}}).on("mouseleave","["+pipui.tooltip.trigger+"], ["+pipui.tooltip.trigger+"-left], ["+pipui.tooltip.trigger+"-right],["+pipui.tooltip.trigger+"-top], ["+pipui.tooltip.trigger+"-bottom]",function(){var t=$(".tooltip.show");t.length&&t.removeClass("show")})}),pipui.addModule("alertblock","1.0.0"),pipui.alertblock={show:function(t){"string"==typeof t&&(t=$(t)),t.fadeIn("fast")},hide:function(t){"string"==typeof t&&(t=$(t)),t.fadeOut("fast")}},$(function(){$("body").on("click",".alertblock .alertblock-close",function(t){t.preventDefault(),pipui.alertblock.hide($(this).closest(".alertblock"))})}),pipui.addModule("tagselector","1.0.0"),p.required("tagselector","base","1.4.0",">="),p.i18n.tagselector={pushed:'Tagselector: tag "%" by key "%" has been pushed',installed:"Tagselector: installed"},pipui.tagselector_helper={defaultSelector:"[data-ts]",is_init:function(t){var e=t.attr("data-ts-id");return"string"==typeof e&&e.length}},pipui.tagselector=function(t){var e,i,a=t,r=Math.random().toString(),o=[",","Enter"],n=1,s=32,l=0,d=0,c="tags",u="end",f=this,g=!1,h=",",v='<div class="tagselector" data-ts-id="{ID}"><ul class="tagselector-list"></ul></div>',m='<li class="tagselector-item"><a href="#" title="\u0423\u0434\u0430\u043b\u0438\u0442\u044c" class="tagselector-link" data-title="{TITLE}" data-key="{KEY}" rel="nofollow">{TITLE}</a><input type="hidden" name="{NAME}[{KEY}]" value="{TITLE}" class="tagselector-value"></li>';this.setTemplateBlock=function(t){return v=t,f},this.setTemplateSelector=function(t){return m=t,f},this.setDisableEvents=function(t){return g=t,f},this.setMin=function(t){return n="number"!=typeof t||t<1?1:parseInt(t),f},this.setMax=function(t){return s="number"!=typeof t||t<1?1:parseInt(t),f},this.setName=function(t){return c=t,f},this.setKeys=function(t){return o=t,f},this.setSeparator=function(t){return h=t,f},this.setPosition=function(t){return u=t,f},this.setMinTags=function(t){return l="number"!=typeof t||t<1?1:parseInt(t),f},this.setMaxTags=function(t){return d="number"!=typeof t||t<1?1:parseInt(t),f},this.push=function(t,a,r){if(void 0===r&&(r=a),f.exists(r))return f;var o=m.replace(/\{TITLE\}/g,a);o=(o=o.replace(/\{NAME\}/g,c)).replace(/\{KEY\}/g,r);var n=e.find(".tagselector-list");return void 0===t||"end"==t?n.append(o):n.prepend(o),n.find(".tagselector-link").on("click",function(t){t.preventDefault();var e=f.length();(l<=0||e>l)&&$(this).fadeOut("fast",function(){f.remove($(this).attr("data-key"))})}),"function"==typeof i&&i(a,r,t),f},this.exists=function(t){return!(void 0===t||!t.toString().length)&&e.find('.tagselector-link[data-key="'+t+'"]').length>0},this.remove=function(t){if(void 0===t||!t.length)return f;var i=f.length();if(l>0&&i<=l)return f;var a=e.find('.tagselector-link[data-key="'+t+'"]');return a.length&&a.closest(".tagselector-item").remove(),f},this.getInput=function(){return a},this.prepend=function(t,e){return f.push("start",t,e)},this.append=function(t,e){return f.push("end",t,e)},this.clear=function(){return e.find(".tagselector-list").empty(),f},this.onclear=function(t){return f},this.onpush=function(t){return"function"!=typeof t||(i=t),f},this.length=function(){return e.find(".tagselector-link").length},function(t){t.attr("data-ts-id",r);var i=t.val(),a=t.attr("data-ts-separator"),l=t.attr("data-ts-min"),c=t.attr("data-ts-max"),m=t.attr("data-ts-name"),b=t.attr("data-ts-position"),y=t.attr("data-ts-mintags"),k=t.attr("data-ts-maxtags");if("string"==typeof l&&l.length&&f.setMin(parseInt(l)),"string"==typeof c&&c.length&&f.setMax(parseInt(c)),"string"==typeof m&&m.length&&f.setName(m),"string"==typeof a&&a.length&&f.setSeparator(a),"string"==typeof b&&b.length&&f.setPosition("end"==b?b:"start"),"string"==typeof y&&y.length&&f.setMinTags(parseInt(y)),"string"==typeof k&&k.length&&f.setMaxTags(parseInt(k)),e=$(v.replace(/\{ID\}/g,r)),s>0&&t.attr("maxlength",s),t.after(e),i.length){i=p.array_unique(i.split(h));for(var w=0;w<i.length;w++)void 0!==i[w]&&f.push(u,i[w]);t.val("")}t.on("keydown",function(e){if(!g&&-1!==o.indexOf(e.key)){e.preventDefault();var i=t.val();if(!f.exists(i)){var a=i.length;if(n>0&&a<n)return;if(s>0&&a>s)return;var r=f.length();if(d>0&&r>=d)return;f.push(u,i),t.val("")}}})}(a)},$(function(){var t=$(pipui.tagselector_helper.defaultSelector);t.length&&t.each(function(){var t=$(this);pipui.tagselector_helper.is_init(t)||new pipui.tagselector(t)})}),pipui.addModule("anchor","1.0.0"),pipui.anchor={defaultDuration:400,defaultEasing:"",goto:function(t,e,i,a){var r=$(t);if(!r.length)return!1;var o=r.offset();if(!o)return!1;e=void 0===e?pipui.anchor.defaultDuration:parseInt(e),i=void 0===i?pipui.anchor.defaultEasing:i,isNaN(e)&&(e=pipui.anchor.defaultDuration);var n=o.top;"function"!=typeof a&&(a=function(){}),$("html").animate({scrollTop:n},e,i,a)}},$(function(){$("body").on("click","[data-anchor]",function(t){var e=$(this),i=e.attr("data-anchor"),a=e.attr("data-anchor-hash");t.preventDefault(),pipui.anchor.goto(i,e.attr("data-anchor-duration"),e.attr("data-anchor-easing"),function(){"true"==a&&(location.hash=i)})})}),pipui.addModule("datepicker","1.0.0"),p.required("datepicker","base","1.4.0",">="),p.i18n.datepicker={jan:"\u042f\u043d\u0432\u0430\u0440\u044f",feb:"\u0424\u0435\u0432\u0440\u0430\u043b\u044f",mar:"\u041c\u0430\u0440\u0442\u0430",apr:"\u0410\u043f\u0440\u0435\u043b\u044f",may:"\u041c\u0430\u044f",jun:"\u0418\u044e\u043d\u044f",jul:"\u0418\u044e\u043b\u044f",aug:"\u0410\u0432\u0433\u0443\u0441\u0442\u0430",sep:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f",oct:"\u041e\u043a\u0442\u044f\u0431\u0440\u044f",nov:"\u041d\u043e\u044f\u0431\u0440\u044f",dec:"\u0414\u0435\u043a\u0430\u0431\u0440\u044f",year:"\u0413\u043e\u0434"},pipui.datepicker={months:[p.i18n.datepicker.jan,p.i18n.datepicker.feb,p.i18n.datepicker.mar,p.i18n.datepicker.apr,p.i18n.datepicker.may,p.i18n.datepicker.jun,p.i18n.datepicker.jul,p.i18n.datepicker.aug,p.i18n.datepicker.sep,p.i18n.datepicker.oct,p.i18n.datepicker.nov,p.i18n.datepicker.dec],template_month:'<option class="month-id" value="{MONTH_NUM}" {MONTH_SELECTED} data-value="{MONTH_NUM}">{MONTH_NAME}</option>',template_hour:'<option class="hour-id" value="{HOUR_NUM}" {HOUR_SELECTED} data-value="{HOUR_NUM}">{HOUR_NUM}</option>',template_minute:'<option class="minute-id" value="{MINUTE_NUM}" {MINUTE_SELECTED} data-value="{MINUTE_NUM}">{MINUTE_NUM}</option>',template_second:'<option class="second-id" value="{SECOND_NUM}" {SECOND_SELECTED} data-value="{SECOND_NUM}">{SECOND_NUM}</option>',template_day:'<div class="day-id {DAY_SELECTED}" data-value="{DAY_NUM}">{DAY_NUM}</div>',template_date:'<div class="datepicker" style="display:none;" data-datepicker-id="{ID}"><div class="datepicker-wrapper"><div class="datepicker-block window" data-datepicker-type="date"><div class="block-date"><div class="top"><div class="block-left"><input type="number" class="datepicker-year" placeholder="'+p.i18n.datepicker.year+'" value="{CURRENT_YEAR}"></div><div class="block-right"><select class="datepicker-month">{MONTHLIST}</select></div></div><div class="middle"><div class="daylist">{DAYLIST}</div></div></div></div></div></div>',template_datetime:'<div class="datepicker" style="display:none;" data-datepicker-id="{ID}"><div class="datepicker-wrapper"><div class="datepicker-block window" data-datepicker-type="datetime"><div class="block-date"><div class="top"><div class="block-left"><input type="number" class="datepicker-year" placeholder="'+p.i18n.datepicker.year+'" value="{CURRENT_YEAR}"></div><div class="block-right"><select class="datepicker-month">{MONTHLIST}</select></div></div><div class="middle"><div class="daylist">{DAYLIST}</div></div><div class="footer"><select class="datepicker-hour">{HOURLIST}</select><select class="datepicker-minute">{MINUTELIST}</select><select class="datepicker-second">{SECONDLIST}</select></div></div></div></div></div>',monthlist:function(t){for(var e="",i=1;i<=12;i++)e+=pipui.datepicker.template_month.replace(/\{MONTH_NAME\}/gi,pipui.datepicker.months[i-1]).replace(/\{MONTH_NUM\}/gi,i.toString()).replace(/\{MONTH_SELECTED\}/gi,t==i?"selected":"");return e},daylist:function(t,e){for(var i="",a=1;a<=t;a++)i+=pipui.datepicker.template_day.replace(/\{DAY_NUM\}/gi,a).replace(/\{DAY_SELECTED\}/gi,e==a?"selected":"");return i},hourlist:function(t){for(var e="",i=0;i<=23;i++)e+=pipui.datepicker.template_hour.replace(/\{HOUR_NUM\}/gi,i=i<10?"0"+i:i).replace(/\{HOUR_SELECTED\}/gi,t==i?"selected":"");return e},minutelist:function(t){for(var e="",i=0;i<=59;i++)e+=pipui.datepicker.template_minute.replace(/\{MINUTE_NUM\}/gi,i=i<10?"0"+i:i).replace(/\{MINUTE_SELECTED\}/gi,t==i?"selected":"");return e},secondlist:function(t){for(var e="",i=0;i<=59;i++)e+=pipui.datepicker.template_second.replace(/\{SECOND_NUM\}/gi,i=i<10?"0"+i:i).replace(/\{SECOND_SELECTED\}/gi,t==i?"selected":"");return e},daysInMonth:function(t,e){return new Date(e,t,0).getDate()},drawdays:function(t,e,i){t.find(".daylist").html(pipui.datepicker.daylist(e,i))},update:function(t,e,i){var a=t.attr("data-datepicker-id"),r=$('[data-datepicker-trigger="'+a+'"]'),o=new Date,n=parseInt(t.find(".datepicker-year").val()),s=parseInt(t.find(".datepicker-month").val()),l=parseInt(t.find(".day-id.selected").attr("data-value"));(isNaN(n)||n<0)&&(n=o.getFullYear()),(isNaN(s)||s<0||s>12)&&(s=o.getMonth()+1),(isNaN(l)||l<1||l>31)&&(l=o.getDate());var p=pipui.datepicker.daysInMonth(s,n);l>p&&(l=p);var d=void 0!==r.attr("data-datepicker")?"datepicker":"datetimepicker",c=(l<10?"0"+l:l)+"."+(s<10?"0"+s:s)+"."+n;if("datetimepicker"==d){var u=parseInt(t.find(".datepicker-hour").val()),f=parseInt(t.find(".datepicker-minute").val()),g=parseInt(t.find(".datepicker-second").val());(isNaN(u)||u<0||u>23)&&(u=o.getHours()),(isNaN(f)||f<0||f>59)&&(f=o.getMinutes()),(isNaN(g)||g<0||g>59)&&(g=o.getSeconds()),c+=" "+(u<10?"0"+u:u)+":"+(f<10?"0"+f:f)+":"+(g<10?"0"+g:g)}"INPUT"!=r[0].tagName&&"TEXTAREA"!=r[0].tagName||(r.val(c),r.attr("data-"+d,c)),(e||i)&&pipui.datepicker.drawdays(t,p,l)},drawdate:function(t,e){void 0===e&&(e=t.attr("data-datepicker-trigger"));var i=t.attr("data-datepicker"),a=new Date,r=t.val(),o=a.getFullYear(),n=a.getMonth()+1,s=a.getDate(),l=a.getTime();if(""!=i||""!=r){var p=(""!=i?i:r).split("."),d=parseInt(p[2]),c=parseInt(p[1]),u=parseInt(p[0]);(isNaN(u)||u<1||u>31)&&(u=s),(isNaN(c)||c<1||c>12)&&(c=n),isNaN(d)&&(d=o),l=Date.parse(d+"-"+c+"-"+u),o=(a=new Date(l)).getFullYear(),n=a.getMonth()+1,s=a.getDate()}var f=pipui.datepicker.template_date.replace(/\{ID\}/gi,e);return f=(f=(f=f.replace(/\{CURRENT_YEAR\}/gi,o)).replace(/\{MONTHLIST\}/gi,pipui.datepicker.monthlist(n))).replace(/\{DAYLIST\}/gi,pipui.datepicker.daylist(pipui.datepicker.daysInMonth(n,o),s)),$(f)},drawdatetime:function(t,e){void 0===e&&(e=t.attr("data-datepicker-trigger"));var i=t.attr("data-datetimepicker"),a=new Date,r=t.val(),o=a.getFullYear(),n=a.getMonth()+1,s=a.getDate(),l=a.getHours(),p=a.getMinutes(),d=a.getSeconds(),c=a.getTime();if(""!=i||""!=r){var u=""!=i?i:r;void 0===(u=u.split(" "))[1]&&(u[1]="00:00:00");var f=u[0].split("."),g=u[1].split(":"),h=parseInt(f[2]),v=parseInt(f[1]),m=parseInt(f[0]),b=parseInt(g[2]),y=parseInt(g[1]),k=parseInt(g[0]);(isNaN(m)||m<1||m>31)&&(m=s),(isNaN(v)||v<1||v>12)&&(v=n),isNaN(h)&&(h=o),(isNaN(b)||b<0||b>59)&&(b=d),(isNaN(y)||y<0||y>59)&&(y=p),(isNaN(k)||k<0||k>23)&&(k=l),c=Date.parse(h+"-"+v+"-"+m+" "+k+":"+y+":"+b),o=(a=new Date(c)).getFullYear(),n=a.getMonth()+1,s=a.getDate(),l=a.getHours(),p=a.getMinutes(),d=a.getSeconds()}var w=pipui.datepicker.template_datetime.replace(/\{ID\}/gi,e);return w=(w=(w=(w=(w=(w=w.replace(/\{CURRENT_YEAR\}/gi,o)).replace(/\{MONTHLIST\}/gi,pipui.datepicker.monthlist(n))).replace(/\{DAYLIST\}/gi,pipui.datepicker.daylist(pipui.datepicker.daysInMonth(n,o),s))).replace(/\{HOURLIST\}/gi,pipui.datepicker.hourlist(l))).replace(/\{MINUTELIST\}/gi,pipui.datepicker.minutelist(p))).replace(/\{SECONDLIST\}/gi,pipui.datepicker.secondlist(d)),$(w)},init_date:function(t){var e=t.attr("data-datepicker-trigger");void 0===e&&(e=Math.random().toString(),t.attr("data-datepicker-trigger",e));var i=$('.datepicker[data-datepicker-id="'+e+'"]');if(i.length)return i;var a=pipui.datepicker.drawdate(t,e);return $("body").append(a),a},init_datetime:function(t){var e=t.attr("data-datepicker-trigger");void 0===e&&(e=Math.random().toString(),t.attr("data-datepicker-trigger",e));var i=$('.datepicker[data-datepicker-id="'+e+'"]');if(i.length)return i;var a=pipui.datepicker.drawdatetime(t,e);return $("body").append(a),a}},$(function(){$("body").on("mousedown","[data-datepicker]",function(t){t.preventDefault();var e=$(this);setTimeout(function(){e.trigger("blur")},10);var i=pipui.datepicker.init_date(e);i.replaceWith(i),i.fadeIn("fast")}).on("click","[data-datetimepicker]",function(t){t.preventDefault();var e=$(this);setTimeout(function(){e.trigger("blur")},10);var i=pipui.datepicker.init_datetime(e);i.replaceWith(i),i.fadeIn("fast")}).on("input",".datepicker input",function(){var t=$(this).closest(".datepicker");pipui.datepicker.update(t)}).on("change",".datepicker select",function(){var t=$(this).closest(".datepicker");pipui.datepicker.update(t,void 0,!0)}).on("click",".datepicker .day-id",function(){var t=$(this),e=t.closest(".datepicker"),i=e.attr("data-datepicker-id"),a=$('[data-datepicker-trigger="'+i+'"]');e.find(".day-id.selected").removeClass("selected"),t.addClass("selected"),pipui.datepicker.update(e,!0),"true"==a.attr("data-datepicker-autoclose")&&e.fadeOut("fast")}),$("html").on("click","body",function(t){var e=$(t.target);e.closest(".datepicker-block").length||e.closest(".datepicker").fadeOut("fast")})}),pipui.addModule("progress","1.0.0"),pipui.progress={defaultBorderSize:12,defaultBorderPadding:3,defaultBackgroundColor:"#000",defaultBorderColor:"#fff",init:function(t){var e=document.querySelectorAll(t);if(!e)return!1;var i=e.length;for(let a=0;a<i;a++)void 0!==e[a]&&pipui.progress.draw(e[a]);return!0},draw:function(t){var e=t.getContext("2d");e.clearRect(0,0,t.width,t.height);var i=parseInt(t.getAttribute("data-border-size")),a=t.getAttribute("data-border-color"),r=parseInt(t.getAttribute("data-border-padding")),o=t.getAttribute("data-background-color"),n=parseFloat(t.getAttribute("data-radius"));isNaN(i)&&(i=pipui.progress.defaultBorderSize),isNaN(r)&&(r=pipui.progress.defaultBorderPadding),isNaN(n)&&(n=0),r*=2;var s=(t.width-i)/2,l=s+i/2,p=1.5*Math.PI;o="string"!=typeof o?pipui.progress.defaultBackgroundColor:o,a="string"!=typeof a?pipui.progress.defaultBorderColor:a,e.beginPath(),e.strokeStyle=o,e.lineWidth=i,e.arc(l,l,s,0,2*Math.PI,!1),e.stroke();var d=p+3.6*n*(Math.PI/180);e.beginPath(),e.shadowColor=a,e.shadowBlur=r/2-1,e.strokeStyle=a,e.lineWidth=i-r,e.arc(l,l,s,p,d,!1),e.stroke();var c=parseInt(t.getAttribute("data-timer"));return isNaN(c)||setTimeout(function(){pipui.progress.draw(t)},c),e}},$(function(){pipui.progress.init(".progress-radial > .bar")});